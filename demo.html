<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>外卖热量追踪 Demo（纯前端）</title>
  <style>
    :root{--primary:#2f6bff;--bg:#f7f8fc;--card:#fff;--text:#111827;--muted:#6b7280;--ok:#16a34a;--warn:#f59e0b;--danger:#ef4444;--line:#e5e7eb}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,PingFang SC,Arial;background:var(--bg);color:var(--text)}
    .app{max-width:420px;margin:0 auto;min-height:100vh;padding:16px 16px 86px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin-bottom:12px}
    .title{font-size:22px;font-weight:700;margin:4px 0 2px}.sub{font-size:12px;color:var(--muted)}
    .kpi{font-size:30px;font-weight:800;margin:8px 0}.btn{width:100%;border:0;border-radius:12px;padding:12px 14px;font-weight:600;cursor:pointer}
    .btn-primary{background:var(--primary);color:#fff}.btn-ghost{background:#fff;border:1px solid var(--line);color:var(--text)}
    .row{display:flex;gap:8px}.row>*{flex:1}.pill{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;margin-right:6px}
    .pill.warn{background:#fff7ed;color:#9a3412}.pill.danger{background:#fef2f2;color:#991b1b}.pill.ok{background:#f0fdf4;color:#166534}
    .list-item{padding:10px;border:1px solid var(--line);border-radius:10px;margin-top:8px}
    .tabs{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--line);display:flex;justify-content:center}
    .tabs-inner{max-width:420px;width:100%;display:flex}.tab{flex:1;padding:12px 8px;text-align:center;color:var(--muted);cursor:pointer}
    .tab.active{color:var(--primary);font-weight:700}
    .screen{display:none}.screen.active{display:block}
    .hint{font-size:12px;color:var(--muted);margin-top:6px}
    .bar{height:8px;background:#eef2ff;border-radius:99px;overflow:hidden}.bar>span{display:block;height:100%;background:var(--primary)}
    .chart{display:flex;align-items:flex-end;gap:6px;height:90px;margin-top:8px}.col{width:20px;background:#c7d2fe;border-radius:6px 6px 0 0}
    .col.ok{background:#86efac}.col.warn{background:#fcd34d}.col.danger{background:#fca5a5}
    input,select{width:100%;padding:10px;border:1px solid var(--line);border-radius:10px}
  </style>
</head>
<body>
<div class="app">
  <section id="home" class="screen active">
    <div class="title">外卖热量追踪</div><div class="sub">纯前端 Demo（无后端）</div>
    <div class="card"><div class="sub">今日已摄入</div><div class="kpi" id="kpi">1280 / 1800 kcal</div><div class="bar"><span id="progress" style="width:71%"></span></div><div class="hint" id="statusText">轻微超标，晚餐可纠偏</div></div>
    <button class="btn btn-primary" onclick="go('upload')">拍照识别热量（模拟）</button>
    <div class="card"><b>最近记录</b>
      <div class="list-item">午餐 · 黄焖鸡米饭 <span class="sub">680-820 kcal</span></div>
      <div class="list-item">早餐 · 三明治+拿铁 <span class="sub">420-510 kcal</span></div>
    </div>
  </section>

  <section id="upload" class="screen">
    <div class="title">上传餐食照片</div><div class="sub">这里仅做流程演示，不调用后端识别</div>
    <div class="card">
      <input type="file" accept="image/*" id="photo" />
      <div class="row" style="margin-top:8px">
        <select id="meal"><option>早餐</option><option selected>午餐</option><option>晚餐</option><option>加餐</option></select>
        <button class="btn btn-primary" onclick="simulate()">开始识别</button>
      </div>
      <div class="hint" id="uploadHint">支持 JPG/PNG；Demo 不上传服务器。</div>
    </div>
    <button class="btn btn-ghost" onclick="go('home')">返回首页</button>
  </section>

  <section id="result" class="screen">
    <div class="title">识别结果</div><div class="sub">AI 结果（模拟）</div>
    <div class="card">
      <div class="sub">热量区间</div><div class="kpi">650 - 820 kcal</div>
      <span class="pill warn">高油</span><span class="pill danger">高糖</span><span class="pill ok">置信度：中</span>
    </div>
    <div class="card"><b>下一餐建议</b><div class="hint">主食减半 + 增加1份蔬菜 + 无糖饮品替代</div></div>
    <div class="card"><b>今日补救建议</b><div class="hint">晚间避免甜饮，增加20分钟快走</div></div>
    <div class="row"><button class="btn btn-primary" onclick="saveLog()">保存记录</button><button class="btn btn-ghost" onclick="shuffleAdvice()">换建议</button></div>
  </section>

  <section id="analysis" class="screen">
    <div class="title">7日分析</div><div class="sub">帮助你每周复盘</div>
    <div class="card"><b>趋势</b><div class="chart">
      <div class="col ok" style="height:42px"></div><div class="col ok" style="height:54px"></div><div class="col warn" style="height:67px"></div>
      <div class="col danger" style="height:84px"></div><div class="col warn" style="height:66px"></div><div class="col ok" style="height:49px"></div><div class="col danger" style="height:82px"></div>
    </div></div>
    <div class="card"><b>高风险餐次</b><div class="hint">周三午餐：奶茶 + 炸鸡（高糖/高油）</div></div>
  </section>

  <section id="profile" class="screen">
    <div class="title">我的</div><div class="sub">目标与偏好</div>
    <div class="card"><div>目标：减脂</div><div class="sub">身高172cm · 体重68kg · 活动中等</div></div>
    <div class="card"><b>订阅权益（Demo）</b><div class="hint">不限次识别 · 个性化周报 · 饮食策略包</div></div>
  </section>
</div>

<nav class="tabs"><div class="tabs-inner">
  <div class="tab active" data-to="home">记录</div><div class="tab" data-to="analysis">分析</div><div class="tab" data-to="profile">我的</div>
</div></nav>

<script>
const advicePool=[
  ['主食减半，优先粗粮','无糖气泡水替代奶茶'],
  ['增加一份高纤蔬菜','晚间控制酱料摄入'],
  ['蛋白优先（鸡胸/鱼）','饭后快走20分钟']
];
function go(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');setTab(id)}
function setTab(id){document.querySelectorAll('.tab').forEach(t=>t.classList.toggle('active',t.dataset.to===id));}
document.querySelectorAll('.tab').forEach(t=>t.onclick=()=>go(t.dataset.to));
function simulate(){const p=document.getElementById('photo').files[0];document.getElementById('uploadHint').textContent=p?`已选择：${p.name}，识别中...`:'未选图片，使用默认示例识别中...';setTimeout(()=>go('result'),700)}
function shuffleAdvice(){const x=advicePool[Math.floor(Math.random()*advicePool.length)];document.querySelectorAll('#result .card .hint')[0].textContent=x[0];document.querySelectorAll('#result .card .hint')[1].textContent=x[1];}
function saveLog(){document.getElementById('kpi').textContent='1560 / 1800 kcal';document.getElementById('progress').style.width='86%';document.getElementById('statusText').textContent='接近上限，建议晚餐清淡';go('home');}
</script>
</body>
</html>
